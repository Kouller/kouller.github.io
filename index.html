<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Examen ‚Äì 42 preguntas</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <noscript><div style="padding:12px;background:#ffc;color:#222">Necesitas habilitar JavaScript para usar el examen.</div></noscript>
  <div class="wrap">
    <div id="welcome" class="card pad">
      <h1>Examen Oficial (42 preguntas)</h1>
      <p class="muted">Duraci√≥n predeterminada: <strong>2 horas</strong>. Se muestra <strong>1 pregunta a la vez</strong>. No hay retroceso. Al terminar o agotar el tiempo, se calcula la nota autom√°ticamente.</p>
      <div class="space"></div>
      <div class="warn">
        <h3>Indicaciones</h3>
        <ul>
          <li>Lee cuidadosamente cada enunciado. Algunas preguntas pueden ser de <strong>selecci√≥n m√∫ltiple</strong>.</li>
          <li>No podr√°s volver a preguntas anteriores una vez pulses <em>Continuar</em>.</li>
          <li>El temporizador se inicia al comenzar y se detiene al <em>Finalizar examen</em> o al agotarse.</li>
          <li>Opcional: puedes <strong>activar tu c√°mara</strong> y <strong>grabar la sesi√≥n</strong> (solo en tu dispositivo) para fines de supervisi√≥n.</li>
        </ul>
      </div>
      <div class="space"></div>
      <div class="ok tiny">üí° Cambia la duraci√≥n editando <span class="kbd">DEFAULT_DURATION_MS</span> en <code>app.js</code>. Para pruebas r√°pidas: a√±ade <code>?mins=5</code> a la URL.</div>
      <div class="space"></div>
      <div class="row">
        <button id="btnStart" class="btn-accent">Empezar examen</button>
        <button id="btnCam" class="btn-ghost" title="Activa una vista previa en la esquina (opcional)">Activar c√°mara</button>
        <button id="btnRecord" class="btn-ghost" title="Graba tu pesta√±a + c√°mara superpuesta (opcional)">Grabar pantalla (tab)</button>
        <span class="muted tiny">La grabaci√≥n se guarda localmente; podr√°s descargarla al finalizar.</span>
      </div>
      <pre id="diag" class="diag tiny"></pre>
    </div>

    <div id="exam" class="card" style="display:none">
      <div class="pad">
        <div class="row" style="align-items:center;justify-content:space-between">
          <div>
            <h2 id="qTitle">Pregunta</h2>
            <div class="muted tiny">Pregunta <span id="qIndex">1</span> de <span id="qTotal">42</span></div>
          </div>
          <div style="min-width:260px">
            <div class="timer center pill" id="timer">02:00:00</div>
            <div class="progress" aria-hidden="true"><div id="bar" class="bar"></div></div>
          </div>
        </div>
        <div class="space"></div>
        <div id="qText" class="question"></div>
        <div class="space"></div>
        <form id="options" class="col"></form>
      </div>
      <div class="toolbar">
        <div class="left">
          <span class="pill tiny" id="modePill">√önica respuesta</span>
        </div>
        <div class="right">
          <button id="btnFinish" class="btn-danger">Finalizar examen</button>
          <button id="btnNext" class="btn-accent">Continuar ‚Üí</button>
        </div>
      </div>
    </div>

    <div id="results" class="card pad" style="display:none">
      <h2>Resultados</h2>
      <p>Tu nota: <strong class="scorebox" id="score"></strong> <span id="passStatus" class="pill"></span></p>
      <p class="muted">Se eval√∫an respuestas exactas (en selecci√≥n m√∫ltiple, debes marcar <em>todas</em> y solo las correctas).</p>
      <div class="row">
        <button class="btn-accent" id="btnDownload">Descargar grabaci√≥n</button>
        <button class="btn-accent" id="btnExport">Descargar reporte (CSV)</button>
        <button class="btn-accent" id="btnExportPDF">Descargar reporte (PDF)</button>
        <button class="btn-ghost" id="btnRestart">Volver a inicio</button>
      </div>
    </div>
  </div>

  <div class="corner">
    <video id="cam" class="camPreview" autoplay playsinline muted style="display:none"></video>
  </div>
  <div class="watermark">Modo examen</div>

  <script defer src="./bank.js?v=4"></script>
  <script defer src="./app.js?v=4"></script>
</body>
</html>
